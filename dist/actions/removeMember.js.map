{
  "version": 3,
  "sources": ["../../src/actions/removeMember.ts"],
  "sourcesContent": ["import { GroupChat, Message } from \"whatsapp-web.js\";\nimport { UserModel } from \"../models/models\";\nimport { disciplinaryAction } from \"../services/mongo\";\nimport { MessageType } from \"../types/types\";\n\nexport const removeMember = async (\n  WA_BOT: GroupChat,\n  userObj: MessageType,\n  msg: Message\n) => {\n  if (!msg.mentionedIds.length) return;\n  if (userObj.role === \"OWNER\") {\n    console.log(\"removing memeber as OWNER\");\n    const chatIds = msg.mentionedIds;\n    await WA_BOT.removeParticipants(chatIds);\n  } else if (userObj.role === \"ADMIN\") {\n    console.log(\"removing memeber as ADMIN\");\n    const mention = msg.mentionedIds;\n    if (mention.length > 1) {\n      WA_BOT.sendMessage(\n        `You cannot remove more that one student, it can only be done by OWNER/ MALIK SAHAB`\n      );\n      return;\n    }\n    if (mention.includes(\"919871453667@c.us\" as never)) {\n      const recipitantId = msg.author || \"\";\n      await disciplinaryAction({ recipitantId });\n      WA_BOT.sendMessage(\n        `Your ban count has been increased \uD83D\uDE42, what do you think? you can remove OWNER?`\n      );\n      return;\n    }\n    const isGroupAdmin = await UserModel.find({\n      recipitantId: mention.at(0),\n      roles: \"ADMIN\",\n    });\n    // empty\n    if (!isGroupAdmin.length) {\n      const chatIds = msg.mentionedIds;\n      await WA_BOT.removeParticipants(chatIds);\n    } else {\n      const recipitantId = msg.author || \"\";\n      await disciplinaryAction({ recipitantId });\n      WA_BOT.sendMessage(\n        `Your ban count has been increased \uD83D\uDE42, what do you think? you can remove your fellow ADMIN(s)?`\n      );\n    }\n  }\n};\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,kBAAAE,IAAA,eAAAC,EAAAH,GACA,IAAAI,EAA0B,4BAC1BC,EAAmC,6BAG5B,MAAMH,EAAe,MAC1BI,EACAC,EACAC,IACG,CACH,GAAKA,EAAI,aAAa,QACtB,GAAID,EAAQ,OAAS,QAAS,CAC5B,QAAQ,IAAI,2BAA2B,EACvC,MAAME,EAAUD,EAAI,aACpB,MAAMF,EAAO,mBAAmBG,CAAO,CACzC,SAAWF,EAAQ,OAAS,QAAS,CACnC,QAAQ,IAAI,2BAA2B,EACvC,MAAMG,EAAUF,EAAI,aACpB,GAAIE,EAAQ,OAAS,EAAG,CACtBJ,EAAO,YACL,oFACF,EACA,MACF,CACA,GAAII,EAAQ,SAAS,mBAA4B,EAAG,CAClD,MAAMC,EAAeH,EAAI,QAAU,GACnC,QAAM,sBAAmB,CAAE,aAAAG,CAAa,CAAC,EACzCL,EAAO,YACL,uFACF,EACA,MACF,CAMA,IALqB,MAAM,YAAU,KAAK,CACxC,aAAcI,EAAQ,GAAG,CAAC,EAC1B,MAAO,OACT,CAAC,GAEiB,OAGX,CACL,MAAMC,EAAeH,EAAI,QAAU,GACnC,QAAM,sBAAmB,CAAE,aAAAG,CAAa,CAAC,EACzCL,EAAO,YACL,sGACF,CACF,KAT0B,CACxB,MAAMG,EAAUD,EAAI,aACpB,MAAMF,EAAO,mBAAmBG,CAAO,CACzC,CAOF,EACF",
  "names": ["removeMember_exports", "__export", "removeMember", "__toCommonJS", "import_models", "import_mongo", "WA_BOT", "userObj", "msg", "chatIds", "mention", "recipitantId"]
}
