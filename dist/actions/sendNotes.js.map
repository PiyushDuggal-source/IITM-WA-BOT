{
  "version": 3,
  "sources": ["../../src/actions/sendNotes.ts"],
  "sourcesContent": ["import * as WAWebJS from \"whatsapp-web.js\";\r\nimport { BOT } from \"..\";\r\nimport { NOTES } from \"../resources/notes\";\r\nimport { MessageType, Notes } from \"../types/types\";\r\nimport { FOOTERS } from \"../utils/reply/footers\";\r\nimport { GREETINGS, HEY_EMOJIES } from \"../utils/reply/replies\";\r\nimport { sendAndDeleteMsg } from \"./sendAndDeleteMsg\";\r\nimport { random } from \"./sendMessage\";\r\n\r\n// Helper functions\r\nconst notesFormatter = (notes: Notes, content: string) => {\r\n  notes.forEach((note) => {\r\n    content += `\\n\\n*_NAME_* : *${note.name}*\\n\\n -----------*Content*------------`;\r\n    note.content.forEach((noteContent) => {\r\n      content += `\\n\\nName of the Notes: _${noteContent.name}_\\nLink: ${noteContent.link}`;\r\n    });\r\n  });\r\n  content += `\\n\\n: ${FOOTERS.footers[random(FOOTERS.footerMsgLength)]}`;\r\n  return content;\r\n};\r\n\r\nlet adminMsg = `*These are the Notes ${\r\n  GREETINGS.admin[random(GREETINGS.adminMsgNumber)]\r\n}* ${HEY_EMOJIES[random(HEY_EMOJIES.length)]}`;\r\n\r\nlet userMsg = `*These are the Notes ${\r\n  GREETINGS.member[random(GREETINGS.memberMsgNumber)]\r\n}* ${\r\n  HEY_EMOJIES[random(HEY_EMOJIES.length)]\r\n}\\n\\n*Use filter if you want specific subject's notes*\\nEg: *!notes {SubjectName}* _without {}_\\n\\nNote: _I am not connected, associated, affiliated with any of the Owners of these links to Promote, Encourage any Channel/Group, I found the links on internet only._`;\r\n// }\\n\\n`;\r\n\r\nexport const sendNotes = async (\r\n  client: WAWebJS.Client,\r\n  messageInstance: WAWebJS.Message,\r\n  who: MessageType\r\n) => {\r\n  let content = who === \"ADMIN\" ? adminMsg : userMsg;\r\n  content = notesFormatter(NOTES, content)\r\n  if (who === \"ADMIN\") {\r\n    const chats = await client.getChats();\r\n    const bot = chats[BOT];\r\n    bot.sendMessage(content);\r\n  } else if (who !== \"NONE\") {\r\n    sendAndDeleteMsg(client, messageInstance, who, content);\r\n  }\r\n};\r\n\r\nconst sorryMsg = `Sorry ${\r\n  GREETINGS.member[random(GREETINGS.memberMsgNumber)]\r\n}\\nOnly one word is allowed after !notes command ${\r\n  HEY_EMOJIES[random(HEY_EMOJIES.length)]\r\n}`;\r\n\r\nconst invalidMsg =\r\n  \"The filter is invalid, please use your *permutation* and *combination* knowledge to serach for your notes, like:\\n*!notes mad1* -> *!notes mad*\\nor else, please wait for a while, we will upload the respective notes soon\";\r\n\r\nexport const sendNotesByFilter = async (\r\n  client: WAWebJS.Client,\r\n  messageBody: string,\r\n  messageInstance: WAWebJS.Message,\r\n  who: MessageType\r\n) => {\r\n  const msgList = messageBody.split(\" \");\r\n  if (who !== \"NONE\") {\r\n    const chats = await client.getChats();\r\n    const bot = chats[BOT];\r\n    if (msgList.length > 2) {\r\n      bot.sendMessage(sorryMsg);\r\n    } else {\r\n      // First check in the Names\r\n      const filteredNotes = NOTES.filter((note) => {\r\n        return note.name\r\n          .toLocaleLowerCase()\r\n          .includes(msgList[1].toLocaleLowerCase());\r\n      });\r\n\r\n      // If not in the Upper Names, check inside\r\n      if (!filteredNotes.length) {\r\n        NOTES.forEach((note) => {\r\n          note.content.filter((contNote) => {\r\n            if (\r\n              contNote.name\r\n                .toLocaleLowerCase()\r\n                .includes(msgList[1].toLocaleLowerCase())\r\n            ) {\r\n              filteredNotes.push(note);\r\n            }\r\n          });\r\n        });\r\n      }\r\n      let content = userMsg;\r\n      if (!filteredNotes.length) {\r\n        bot.sendMessage(invalidMsg);\r\n      } else if (who === \"ADMIN\") {\r\n        content = notesFormatter(filteredNotes, content);\r\n        bot.sendMessage(content);\r\n      } else {\r\n        content = notesFormatter(filteredNotes, content);\r\n        sendAndDeleteMsg(client, messageInstance, who, content);\r\n      }\r\n\r\n      //     if (who === \"ADMIN\") {\r\n      //     } else {\r\n      //       let content = userMsg;\r\n      //       filteredNotes.forEach((note) => {\r\n      //         note.content.forEach((not) => {\r\n      //           content += `\\n\\nName of the Content: _${not.name}_\\nLink: ${not.link}`;\r\n      //         });\r\n      //       });\r\n      //       content += `\\n\\n: ${FOOTERS.footers[random(FOOTERS.footerMsgLength)]}`;\r\n      //       bot.sendMessage(content);\r\n      //     }\r\n      //   }\r\n      // } else if (who !== \"NONE\") {\r\n      //   if (msgList.length > 2) {\r\n      //     sendAndDeleteMsg(client, messageInstance, who, sorryMsg);\r\n      //   } else {\r\n      //     // First check in the Contents\r\n      //     const filteredNotes = NOTES.map((note) =>\r\n      //       note.content.filter((not) =>\r\n      //         not.name.toLocaleLowerCase().includes(msgList[1].toLocaleLowerCase())\r\n      //       )\r\n      //     );\r\n      //\r\n      //     // If not in the content, check in the upper names\r\n      //     if (!filteredNotes.flat().length) {\r\n      //       const filteredNotes = NOTES.filter((note) =>\r\n      //         note.name.toLocaleLowerCase().includes(msgList[1].toLocaleLowerCase())\r\n      //       );\r\n      //       let content = userMsg;\r\n      //       filteredNotes.forEach((note) => {\r\n      //         content += `\\n\\n*_NAME_* : *${note.name}*\\n\\n -----------*Content*------------`;\r\n      //         note.content.forEach((noteContent) => {\r\n      //           content += `\\n\\nName of the Content: _${noteContent.name}_\\nLink: ${noteContent.link}`;\r\n      //         });\r\n      //       });\r\n      //\r\n      //       if (!filteredNotes.length) {\r\n      //         sendAndDeleteMsg(client, messageInstance, who, invalidMsg);\r\n      //       } else {\r\n      //         content += `\\n\\n: ${\r\n      //           FOOTERS.footers[random(FOOTERS.footerMsgLength)]\r\n      //         }`;\r\n      //         sendAndDeleteMsg(client, messageInstance, who, content);\r\n      //       }\r\n      //     } else {\r\n      //       let content = userMsg;\r\n      //       filteredNotes.forEach((note) => {\r\n      //         note.forEach((not) => {\r\n      //           content += `\\n\\nName of the Content: _${not.name}_\\nLink: ${not.link}`;\r\n      //         });\r\n      //       });\r\n      //       content += `\\n\\n: ${FOOTERS.footers[random(FOOTERS.footerMsgLength)]}`;\r\n      //       sendAndDeleteMsg(client, messageInstance, who, content);\r\n      //     }\r\n    }\r\n  }\r\n};\r\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,eAAAE,EAAA,sBAAAC,IAAA,eAAAC,EAAAJ,GACA,IAAAK,EAAoB,cACpBC,EAAsB,8BAEtBC,EAAwB,kCACxBC,EAAuC,kCACvCC,EAAiC,8BACjCC,EAAuB,yBAGvB,MAAMC,EAAiB,CAACC,EAAcC,KACpCD,EAAM,QAASE,GAAS,CACtBD,GAAW;AAAA;AAAA,cAAmBC,EAAK;AAAA;AAAA,mCACnCA,EAAK,QAAQ,QAASC,GAAgB,CACpCF,GAAW;AAAA;AAAA,sBAA2BE,EAAY;AAAA,QAAgBA,EAAY,MAChF,CAAC,CACH,CAAC,EACDF,GAAW;AAAA;AAAA,IAAS,UAAQ,WAAQ,UAAO,UAAQ,eAAe,CAAC,IAC5DA,GAGT,IAAIG,EAAW,wBACb,YAAU,SAAM,UAAO,YAAU,cAAc,CAAC,MAC7C,iBAAY,UAAO,cAAY,MAAM,CAAC,IAEvCC,EAAU,wBACZ,YAAU,UAAO,UAAO,YAAU,eAAe,CAAC,MAElD,iBAAY,UAAO,cAAY,MAAM,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,uKAIjC,MAAMf,EAAY,MACvBgB,EACAC,EACAC,IACG,CACH,IAAIP,EAAUO,IAAQ,QAAUJ,EAAWC,EAC3CJ,EAAUF,EAAe,QAAOE,CAAO,EACnCO,IAAQ,SACI,MAAMF,EAAO,SAAS,GAClB,KAAG,EACjB,YAAYL,CAAO,EACdO,IAAQ,WACjB,oBAAiBF,EAAQC,EAAiBC,EAAKP,CAAO,CAE1D,EAEMQ,EAAW,SACf,YAAU,UAAO,UAAO,YAAU,eAAe,CAAC;AAAA,gDAElD,iBAAY,UAAO,cAAY,MAAM,CAAC,IAGlCC,EACJ;AAAA;AAAA,4EAEWnB,EAAoB,MAC/Be,EACAK,EACAJ,EACAC,IACG,CACH,MAAMI,EAAUD,EAAY,MAAM,GAAG,EACrC,GAAIH,IAAQ,OAAQ,CAElB,MAAMK,GADQ,MAAMP,EAAO,SAAS,GAClB,KAAG,EACrB,GAAIM,EAAQ,OAAS,EACnBC,EAAI,YAAYJ,CAAQ,MACnB,CAEL,MAAMK,EAAgB,QAAM,OAAQZ,GAC3BA,EAAK,KACT,kBAAkB,EAClB,SAASU,EAAQ,CAAC,EAAE,kBAAkB,CAAC,CAC3C,EAGIE,EAAc,QACjB,QAAM,QAASZ,GAAS,CACtBA,EAAK,QAAQ,OAAQa,GAAa,CAE9BA,EAAS,KACN,kBAAkB,EAClB,SAASH,EAAQ,CAAC,EAAE,kBAAkB,CAAC,GAE1CE,EAAc,KAAKZ,CAAI,CAE3B,CAAC,CACH,CAAC,EAEH,IAAID,EAAUI,EACTS,EAAc,OAERN,IAAQ,SACjBP,EAAUF,EAAee,EAAeb,CAAO,EAC/CY,EAAI,YAAYZ,CAAO,IAEvBA,EAAUF,EAAee,EAAeb,CAAO,KAC/C,oBAAiBK,EAAQC,EAAiBC,EAAKP,CAAO,GANtDY,EAAI,YAAYH,CAAU,CA+D9B,CACF,CACF",
  "names": ["sendNotes_exports", "__export", "sendNotes", "sendNotesByFilter", "__toCommonJS", "import__", "import_notes", "import_footers", "import_replies", "import_sendAndDeleteMsg", "import_sendMessage", "notesFormatter", "notes", "content", "note", "noteContent", "adminMsg", "userMsg", "client", "messageInstance", "who", "sorryMsg", "invalidMsg", "messageBody", "msgList", "bot", "filteredNotes", "contNote"]
}
