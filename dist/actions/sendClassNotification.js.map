{
  "version": 3,
  "sources": ["../../src/actions/sendClassNotification.ts"],
  "sourcesContent": ["import isToday from \"date-fns/isToday\"\r\nimport { differenceInMinutes } from \"date-fns\";\r\nimport * as WAWebJS from \"whatsapp-web.js\";\r\nimport { CALENDAR } from \"../resources/calendar\";\r\nimport { Calendar } from \"../types/types\";\r\n\r\n// const getDifferenceInMins = (date1: Date, date2: Date) => {\r\n//   var diff = (date1.getTime() - date2.getTime()) / 60000;\r\n//   return Math.abs(Math.round(diff));\r\n// };\r\n\r\n// Add Indian Time - `Classic Function`\r\n// export function addIndianTime(date: Date): Date {\r\n//   let numberOfMilliseconds = date.getTime();\r\n//   let t0530inMilliseconds = 19800000;\r\n//   date = new Date(numberOfMilliseconds + t0530inMilliseconds);\r\n//   return date;\r\n// }\r\n\r\nconst checkForClass = (calendar: Calendar): Calendar | [] => {\r\n  let todayCalendar: Calendar = [];\r\n  const date = new Date();\r\n  calendar.forEach((clndr) => {\r\n    if (isToday(clndr.date)) {\r\n      const difference = differenceInMinutes(clndr.date, date);\r\n      if (difference < 5 && 0 < difference) {\r\n        todayCalendar.push({ ...clndr, numberOfMinutes: 5 });\r\n      } else if (difference < 10 && 0 < difference) {\r\n        todayCalendar.push({ ...clndr, numberOfMinutes: 10 });\r\n      }\r\n    }\r\n  });\r\n  return todayCalendar;\r\n};\r\n\r\nexport const sendClassNotification = (bot: WAWebJS.Chat) => {\r\n  const classes = checkForClass(CALENDAR);\r\n  if (!!classes.length) {\r\n    let message = \"\u26A0 Attention Guys!! \u26A0 CLASS!\\n\\n\uD83D\uDCD8*Today's Classes*\uD83D\uDCD8\";\r\n    classes.forEach(\r\n      (event) =>\r\n        (message += `\\n -------------------------------- \\n\uD83D\uDCD6 *Topic*      : *${event.topic}* \\n\uD83D\uDD70 *Time*   : _Starting in *${event.numberOfMinutes}* minutes_\\n\uD83D\uDCC5 *Date*       : *Today!* \\n\uD83C\uDFEB *Course*  : ${event.courseName}\\n*Calendar Link*: https://calendar.google.com/calendar/u/0/r/day `)\r\n    );\r\n    bot.sendMessage(message);\r\n  }\r\n};\r\n"],
  "mappings": "0jBAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,2BAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAoB,+BACpBC,EAAoC,oBAEpCC,EAAyB,iCAgBzB,MAAMC,EAAiBC,GAAsC,CAC3D,IAAIC,EAA0B,CAAC,EAC/B,MAAMC,EAAO,IAAI,KACjB,OAAAF,EAAS,QAASG,GAAU,CAC1B,MAAI,EAAAC,SAAQD,EAAM,IAAI,EAAG,CACvB,MAAME,KAAa,uBAAoBF,EAAM,KAAMD,CAAI,EACnDG,EAAa,GAAK,EAAIA,EACxBJ,EAAc,KAAK,CAAE,GAAGE,EAAO,gBAAiB,CAAE,CAAC,EAC1CE,EAAa,IAAM,EAAIA,GAChCJ,EAAc,KAAK,CAAE,GAAGE,EAAO,gBAAiB,EAAG,CAAC,CAExD,CACF,CAAC,EACMF,CACT,EAEaP,EAAyBY,GAAsB,CAC1D,MAAMC,EAAUR,EAAc,UAAQ,EACtC,GAAMQ,EAAQ,OAAQ,CACpB,IAAIC,EAAU;AAAA;AAAA,qCACdD,EAAQ,QACLE,GACED,GAAW;AAAA;AAAA,4BAA4DC,EAAM;AAAA,qCAAwCA,EAAM;AAAA;AAAA,wBAA0EA,EAAM;AAAA,iEAChN,EACAH,EAAI,YAAYE,CAAO,CACzB,CACF",
  "names": ["sendClassNotification_exports", "__export", "sendClassNotification", "__toCommonJS", "import_isToday", "import_date_fns", "import_calendar", "checkForClass", "calendar", "todayCalendar", "date", "clndr", "isToday", "difference", "bot", "classes", "message", "event"]
}
