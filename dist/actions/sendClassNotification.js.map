{
  "version": 3,
  "sources": ["../../src/actions/sendClassNotification.ts"],
  "sourcesContent": ["import isToday from \"date-fns/isToday\"\nimport { differenceInMinutes } from \"date-fns\";\nimport * as WAWebJS from \"whatsapp-web.js\";\nimport { CALENDAR } from \"../resources/calendar\";\nimport { Calendar } from \"../types/types\";\n\n// const getDifferenceInMins = (date1: Date, date2: Date) => {\n//   var diff = (date1.getTime() - date2.getTime()) / 60000;\n//   return Math.abs(Math.round(diff));\n// };\n\n// Add Indian Time - `Classic Function`\n// export function addIndianTime(date: Date): Date {\n//   let numberOfMilliseconds = date.getTime();\n//   let t0530inMilliseconds = 19800000;\n//   date = new Date(numberOfMilliseconds + t0530inMilliseconds);\n//   return date;\n// }\n\nconst checkForClass = (calendar: Calendar): Calendar | [] => {\n  let todayCalendar: Calendar = [];\n  const date = new Date();\n  calendar.forEach((clndr) => {\n    if (isToday(clndr.date)) {\n      const difference = differenceInMinutes(clndr.date, date);\n      if (difference < 5 && 0 < difference) {\n        todayCalendar.push({ ...clndr, numberOfMinutes: 5 });\n      } else if (difference < 10 && 0 < difference) {\n        todayCalendar.push({ ...clndr, numberOfMinutes: 10 });\n      }\n    }\n  });\n  return todayCalendar;\n};\n\nexport const sendClassNotification = (client: WAWebJS.Client, chatId: string) => {\n  const classes = checkForClass(CALENDAR);\n  if (!!classes.length) {\n    let message = \"\u26A0 Attention Guys!! \u26A0 CLASS!\\n\\n\uD83D\uDCD8*Today's Classes*\uD83D\uDCD8\";\n    classes.forEach(\n      (event) =>\n        (message += `\\n -------------------------------- \\n\uD83D\uDCD6 *Topic*      : *${event.topic}* \\n\uD83D\uDD70 *Time*   : _Starting in *${event.numberOfMinutes}* minutes_\\n\uD83D\uDCC5 *Date*       : *Today!* \\n\uD83C\uDFEB *Course*  : ${event.courseName}\\n*Calendar Link*: https://calendar.google.com/calendar/u/0/r/day `)\n    );\n    client.sendMessage(chatId, message);\n  }\n};\n"],
  "mappings": "0jBAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,2BAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAoB,+BACpBC,EAAoC,oBAEpCC,EAAyB,iCAgBzB,MAAMC,EAAiBC,GAAsC,CAC3D,IAAIC,EAA0B,CAAC,EAC/B,MAAMC,EAAO,IAAI,KACjB,OAAAF,EAAS,QAASG,GAAU,CAC1B,MAAI,EAAAC,SAAQD,EAAM,IAAI,EAAG,CACvB,MAAME,KAAa,uBAAoBF,EAAM,KAAMD,CAAI,EACnDG,EAAa,GAAK,EAAIA,EACxBJ,EAAc,KAAK,CAAE,GAAGE,EAAO,gBAAiB,CAAE,CAAC,EAC1CE,EAAa,IAAM,EAAIA,GAChCJ,EAAc,KAAK,CAAE,GAAGE,EAAO,gBAAiB,EAAG,CAAC,CAExD,CACF,CAAC,EACMF,CACT,EAEaP,EAAwB,CAACY,EAAwBC,IAAmB,CAC/E,MAAMC,EAAUT,EAAc,UAAQ,EACtC,GAAMS,EAAQ,OAAQ,CACpB,IAAIC,EAAU;AAAA;AAAA,qCACdD,EAAQ,QACLE,GACED,GAAW;AAAA;AAAA,4BAA4DC,EAAM;AAAA,qCAAwCA,EAAM;AAAA;AAAA,wBAA0EA,EAAM;AAAA,iEAChN,EACAJ,EAAO,YAAYC,EAAQE,CAAO,CACpC,CACF",
  "names": ["sendClassNotification_exports", "__export", "sendClassNotification", "__toCommonJS", "import_isToday", "import_date_fns", "import_calendar", "checkForClass", "calendar", "todayCalendar", "date", "clndr", "isToday", "difference", "client", "chatId", "classes", "message", "event"]
}
