{
  "version": 3,
  "sources": ["../../src/actions/sendClassNotification.ts"],
  "sourcesContent": ["import { differenceInMinutes, isToday } from \"date-fns\";\nimport * as WAWebJS from \"whatsapp-web.js\";\nimport { CALENDAR } from \"../resources/calendar\";\nimport { Calendar } from \"../types/types\";\n\n// const getDifferenceInMins = (date1: Date, date2: Date) => {\n//   var diff = (date1.getTime() - date2.getTime()) / 60000;\n//   return Math.abs(Math.round(diff));\n// };\n\n// Add Indian Time - `Classic Function`\n// export function addIndianTime(date: Date): Date {\n//   let numberOfMilliseconds = date.getTime();\n//   let t0530inMilliseconds = 19800000;\n//   date = new Date(numberOfMilliseconds + t0530inMilliseconds);\n//   return date;\n// }\n\nconst checkForClass = (calendar: Calendar): Calendar | [] => {\n  let todayCalendar: Calendar = [];\n  // const date = addIndianTime(new Date());\n  const date = new Date();\n  calendar.forEach((clndr) => {\n    if (isToday(clndr.date)) {\n      const difference = differenceInMinutes(clndr.date, date);\n      if (difference < 5 && 0 < difference) {\n        todayCalendar.push({ ...clndr, numberOfMinutes: 5 });\n      } else if (difference < 10 && 0 < difference) {\n        todayCalendar.push({ ...clndr, numberOfMinutes: 10 });\n      }\n    }\n  });\n  return todayCalendar;\n};\n\nexport const sendClassNotification = (bot: WAWebJS.Chat) => {\n  const classes = checkForClass(CALENDAR);\n  if (!!classes.length) {\n    let message = \"\u26A0 Attention Guys!! \u26A0 CLASS!\\n\\n\uD83D\uDCD8*Today's Classes*\uD83D\uDCD8\";\n    classes.forEach(\n      (event) =>\n        (message += `\\n -------------------------------- \\n\uD83D\uDCD6 *Topic*      : *${event.topic}* \\n\uD83D\uDD70 *Time*   : _Starting in *${event.numberOfMinutes}* minutes_\\n\uD83D\uDCC5 *Date*       : *Today!* \\n\uD83C\uDFEB *Course*  : ${event.courseName}\\n*Calendar Link*: https://calendar.google.com/calendar/u/0/r/day `)\n    );\n    bot.sendMessage(message);\n  }\n};\n"],
  "mappings": "s6BAAA,+CAA6C,uBAE7C,EAAyB,oCAgBzB,KAAM,GAAgB,AAAC,GAAsC,CAC3D,GAAI,GAA0B,GAE9B,KAAM,GAAO,GAAI,MACjB,SAAS,QAAQ,AAAC,GAAU,CAC1B,GAAI,cAAQ,EAAM,MAAO,CACvB,KAAM,GAAa,0BAAoB,EAAM,KAAM,GACnD,AAAI,EAAa,GAAK,EAAI,EACxB,EAAc,KAAK,OAAK,GAAL,CAAY,gBAAiB,KACvC,EAAa,IAAM,EAAI,GAChC,EAAc,KAAK,OAAK,GAAL,CAAY,gBAAiB,SAI/C,GAGI,EAAwB,AAAC,GAAsB,CAC1D,KAAM,GAAU,EAAc,YAC9B,GAAM,EAAQ,OAAQ,CACpB,GAAI,GAAU;AAAA;AAAA,qCACd,EAAQ,QACN,AAAC,GACE,GAAW;AAAA;AAAA,4BAA4D,EAAM;AAAA,qCAAwC,EAAM;AAAA;AAAA,wBAA0E,EAAM;AAAA,mEAEhN,EAAI,YAAY",
  "names": []
}
