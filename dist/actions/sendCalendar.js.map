{
  "version": 3,
  "sources": ["../../src/actions/sendCalendar.ts"],
  "sourcesContent": ["import * as WAWebJS from \"whatsapp-web.js\";\r\nimport { MessageContent } from \"whatsapp-web.js\";\r\nimport { CALENDAR } from \"../resources/calendar\";\r\nimport { Calendar, MessageType } from \"../types/types\";\r\nimport { format, isToday } from \"date-fns\";\r\nimport { FOOTERS } from \"../utils/reply/footers\";\r\nimport { random } from \"./sendMessage\";\r\nimport { BOT } from \"..\";\r\nimport { sendAndDeleteMsg } from \"./sendAndDeleteMsg\";\r\n\r\nconst calendarMessageFormat = (calendar: Calendar): MessageContent => {\r\n  let message: string = \"*This is you Calendar!!! \uD83D\uDDD3*\";\r\n  calendar.forEach(\r\n    (event) =>\r\n      (message += `\\n -------------------------------- \\n\uD83D\uDCD6 *Topic* : *${\r\n        event.topic\r\n      }* \\n\uD83D\uDD70 *Timing* : _${event.time}_ \\n\uD83D\uDCC5 *Date* : ${format(\r\n        event.date,\r\n        \"eeee, LLLL d, yyyy\"\r\n      )}  \\n\uD83C\uDFEB *Course* : ${event.courseName}\\n*Calendar Link* : ${\r\n        isToday(event.date)\r\n          ? \"https://calendar.google.com/calendar/u/0/r/day\"\r\n          : `https://calendar.google.com/calendar/u/0/r/day/${event.date.getFullYear()}/${\r\n              event.date.getMonth() + 1\r\n            }/${event.date.getDate()}`\r\n      }`)\r\n  );\r\n  return message + `\\n\\n: ${FOOTERS.footers[random(FOOTERS.footerMsgLength)]}`;\r\n};\r\n\r\nexport const sendCalendar = async (\r\n  client: WAWebJS.Client,\r\n  messageInstance: WAWebJS.Message,\r\n  who: MessageType\r\n) => {\r\n  if (who === \"ADMIN\") {\r\n    const chats = await client.getChats();\r\n    const bot = chats[BOT];\r\n    bot.sendMessage(calendarMessageFormat(CALENDAR));\r\n  } else if (who !== \"NONE\") {\r\n    sendAndDeleteMsg(\r\n      client,\r\n      messageInstance,\r\n      who,\r\n      calendarMessageFormat(CALENDAR)\r\n    );\r\n  }\r\n};\r\n"],
  "mappings": "mlBAAA,gCAEA,MAAyB,oCAEzB,EAAgC,uBAChC,EAAwB,qCACxB,EAAuB,4BACvB,EAAoB,iBACpB,EAAiC,iCAEjC,KAAM,GAAwB,AAAC,GAAuC,CACpE,GAAI,GAAkB,sCACtB,SAAS,QACP,AAAC,GACE,GAAW;AAAA;AAAA,uBACV,EAAM;AAAA,wBACc,EAAM;AAAA,qBAAuB,aACjD,EAAM,KACN;AAAA,uBACoB,EAAM;AAAA,oBAC1B,cAAQ,EAAM,MACV,iDACA,kDAAkD,EAAM,KAAK,iBAC3D,EAAM,KAAK,WAAa,KACtB,EAAM,KAAK,eAGlB,EAAU;AAAA;AAAA,IAAS,UAAQ,QAAQ,aAAO,UAAQ,qBAG9C,EAAe,MAC1B,EACA,EACA,IACG,CACH,AAAI,IAAQ,QAGV,AADY,AADE,MAAM,GAAO,YACT,OACd,YAAY,EAAsB,aAC7B,IAAQ,QACjB,uBACE,EACA,EACA,EACA,EAAsB",
  "names": []
}
