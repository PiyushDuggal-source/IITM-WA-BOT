"use strict";var i=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var u=Object.prototype.hasOwnProperty;var l=(e,o)=>{for(var n in o)i(e,n,{get:o[n],enumerable:!0})},p=(e,o,n,t)=>{if(o&&typeof o=="object"||typeof o=="function")for(let a of m(o))!u.call(e,a)&&a!==n&&i(e,a,{get:()=>o[a],enumerable:!(t=d(o,a))||t.enumerable});return e};var h=e=>p(i({},"__esModule",{value:!0}),e);var M={};l(M,{removeMember:()=>I});module.exports=h(M);var c=require("../models/models"),s=require("../services/mongo");const I=async(e,o,n)=>{if(n.mentionedIds.length){if(o.role==="OWNER"){console.log("removing memeber as OWNER");const t=n.mentionedIds;await e.removeParticipants(t)}else if(o.role==="ADMIN"){console.log("removing memeber as ADMIN");const t=n.mentionedIds;if(t.length>1){e.sendMessage("You cannot remove more that one student, it can only be done by OWNER/ MALIK SAHAB");return}if(t.includes("919871453667@c.us")){const r=n.author||"";await(0,s.disciplinaryAction)({recipitantId:r}),e.sendMessage("Your ban count has been increased \u{1F642}, what do you think? you can remove OWNER?");return}if((await c.UserModel.find({recipitantId:t.at(0),roles:"ADMIN"})).length){const r=n.author||"";await(0,s.disciplinaryAction)({recipitantId:r}),e.sendMessage("Your ban count has been increased \u{1F642}, what do you think? you can remove your fellow ADMIN(s)?")}else{const r=n.mentionedIds;await e.removeParticipants(r)}}}};0&&(module.exports={removeMember});
//# sourceMappingURL=removeMember.js.map
